{% extends 'base.html' %}

{% block title %}Vendas - Minhas Vendas{% endblock %}

{% block content %}
<h1 class="mb-4">Lista de Vendas</h1>
<p>
    <a href="{% url 'core:venda_criar' %}" class="btn btn-primary">
        <i class="fas fa-cash-register me-2"></i>Realizar Nova Venda
    </a>
</p>

{% if vendas %}
<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th scope="col">ID da Venda</th>
                <th scope="col">Cliente</th>
                <th scope="col">Data da Venda</th>
                <th scope="col">Valor Total</th>
                <th scope="col" class="text-center">Detalhes</th>
            </tr>
        </thead>
        <tbody>
            {% for venda in vendas %}
            <tr>
                <td>#{{ venda.id }}</td>
                <td>{{ venda.cliente.nome }}</td>
                <td>{{ venda.data_venda|date:"d/m/Y H:i" }}</td>
                <td>R$ {{ venda.valor_total|floatformat:2 }}</td>
                <td class="text-center">
                    <a href="{% url 'core:venda_detalhe' venda.pk %}" class="btn btn-sm btn-info" title="Ver Detalhes">
                        <i class="fas fa-eye"></i>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info" role="alert">
    Nenhuma venda registrada ainda.
</div>
{% endif %}
{% endblock %}